<html>
    <head>
        <title>chat</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
        <script type="text/javascript" src="http://hammerjs.github.io/dist/hammer.min.js"></script>
        <script src="{{ url_for('static', filename='messages.js') }}?v_1"></script>
        <script src="{{ url_for('static', filename='get_chats.js') }}?v_1"></script>
        <!-- <script src="{{ url_for('static', filename='logout.js') }}?v_1"></script> -->
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v_2">
    </head>
    <body class="container">
        <div class="chat-wrapper d-flex flex-column col-lg-12 col-md-12">
            <div  id="mySidepanel" class="sidepanel">
                <button href="javascript:void(0)" class="closebtn" onclick="closeNav()"><i class="fa fa-times" aria-hidden="true"></i></button>
                <!-- <a href="/?" class="chat-block d-flex justify-content-between">
                    <img src="https://www.iphones.ru/wp-content/uploads/2017/02/AA-4.png" class="chat-block-image">
                    <div class="chat-preview d-flex">
                        <p class="mb-auto p-2 bd-highlight">Drogi17</p>
                    </div>
                </a> -->
            </div>
            <div class="d-flex justify-content-between chat-header">
                <button class="openbtn" onclick="openNav()"><i class="fa fa-bars" aria-hidden="true"></i></button>
                My-Chatik
                <button class="openbtn" onclick="logout()" title="Выйти"><i class="fa fa-sign-out" aria-hidden="true"></i></button>
            </div>
            <div class='chat d-flex flex-column'>
                <div class='chat-messages' id='chat-messages'>
                    <span style="margin: 0" class="user-text" id="text">
                    </span>
                </div>
                <!-- <div class='conteiner'> -->
                <div class="input-group" id="input-group">
                    <!-- <img src='https://www.iphones.ru/wp-content/uploads/2017/02/AA-4.png' title="emojis" class='amoji-button' id='emoji-button'> -->
                    <input type='text' id='message_text' class='form-control' title="Введите сообщение" placeholder='Введите сообщение' autofocus>
                    <button type="button" class="btn btn-secondary" id="send-button" title="Отправить" ><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
                </div>
                <!-- </div> -->
            </div>
        </div>
        <script type="text/javascript">
            if (window.location.pathname == '/') {
                    document.getElementById("input-group").style.visibility = 'hidden';
                }
            function openNav() {
                document.getElementById("mySidepanel").style.width = "250px";
            }

/* Set the width of the sidebar to 0 (hide it) */
            function closeNav() {
                document.getElementById("mySidepanel").style.width = "0";
            } 




            var hammertime = new Hammer(document.body, {
                    enable: true,
                    recognizers: [
                        [Hammer.Swipe, { direction: Hammer.DIRECTION_HORIZONTAL }]
                    ]
                });

                hammertime.on('swipeleft', function(ev) {
                    document.getElementById("mySidepanel").style.width = "0";
                });

                hammertime.on('swiperight', function(ev) {
                    document.getElementById("mySidepanel").style.width = "250px";
                });
        </script>
    </body>
</shtml>